// Generated by CoffeeScript 1.4.0
(function() {
  var checkUser, checkuserHandler;

  checkUser = function() {
    var username;
    $('.statusSpan').hide();
    $('#imgCheckStatusLoading').show();
    $('#btnCheckUser').attr('readonly', true);
    username = $('#id_username').val();
    console.log(username);
    return $.ajax("/api/user/" + username + "/?format=json", {
      success: checkuserHandler
    });
  };

  checkuserHandler = function(data, status, xhr) {
    $('#imgCheckStatusLoading').hide();
    if (data.exists) {
      $('#spUserExists').show();
    } else {
      $('#spUserNotExists').show();
    }
    return $('#btnCheckUser').attr('readonly', false);
  };

  $(document).ready(function() {
    console.log('Document loaded');
    return $('#btnCheckUser').click(checkUser);
  });

}).call(this);
